<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>SP3 | Sunset</title>
<meta name="keywords" content="Quantization, Paper">
<meta name="description" content="principal components aware pruning">
<meta name="author" content="">
<link rel="canonical" href="https://new-sunset-shimmer.github.io/SP3/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://new-sunset-shimmer.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://new-sunset-shimmer.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://new-sunset-shimmer.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://new-sunset-shimmer.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://new-sunset-shimmer.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://new-sunset-shimmer.github.io/SP3/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><style>
    @media screen and (min-width: 769px) {

         
        .post-content input[type="checkbox"]:checked~label>img {
            transform: scale(1.6);
            cursor: zoom-out;
            position: relative;
            z-index: 999;
        }

        .post-content img.zoomCheck {
            transition: transform 0.15s ease;
            z-index: 999;
            cursor: zoom-in;
        }
    }
</style><meta property="og:title" content="SP3" />
<meta property="og:description" content="principal components aware pruning" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://new-sunset-shimmer.github.io/SP3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-12-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-12-12T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SP3"/>
<meta name="twitter:description" content="principal components aware pruning"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://new-sunset-shimmer.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "SP3",
      "item": "https://new-sunset-shimmer.github.io/SP3/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "SP3",
  "name": "SP3",
  "description": "principal components aware pruning",
  "keywords": [
    "Quantization", "Paper"
  ],
  "articleBody": " Full Title : SP3 : Enhancing Structured Pruning via PCA Projection\nLink : 2308.16475 (arxiv.org)\nRelated Link :\nReleased Date : Thu, 31 Aug 2023\nReview Date : Nov 2024\nprincipal components aware pruning\nMotivation Recently LLM has shown great performance on various task. But LLM got several cons. 1) Huge size 2) huge gpu consumption 3) Huge computation cost.\nStructured Pruning is widely used technique for reducing the size of pre-trained llm(in this paper calling pre trained language model(PLM)). But most of Structured pruning methods aren’t consider Principle components. In this paper authors make pruning to aware principle component to better structured pruning by PCA Projection.\nResearch questions Can we make Pruning to aware own matrices principle component? Methodology Author find Principal Components of Weight matrix is important. They are all across in index, all number of Principals are diffrent across all layer. Previous researchs just focusing on decrease weight dimension d to f that f",
  "wordCount" : "276",
  "inLanguage": "en",
  "datePublished": "2024-12-12T00:00:00Z",
  "dateModified": "2024-12-12T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://new-sunset-shimmer.github.io/SP3/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Sunset",
    "logo": {
      "@type": "ImageObject",
      "url": "https://new-sunset-shimmer.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://new-sunset-shimmer.github.io/" accesskey="h" title="Sunset (Alt + H)">Sunset</a>
            <div class="logo-switches">
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://new-sunset-shimmer.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://new-sunset-shimmer.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://new-sunset-shimmer.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://new-sunset-shimmer.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      SP3
    </h1>
    <div class="post-meta"><span title='2024-12-12 00:00:00 +0000 UTC'>December 12, 2024</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#motivation" aria-label="Motivation">Motivation</a></li>
                <li>
                    <a href="#research-questions" aria-label="Research questions">Research questions</a></li>
                <li>
                    <a href="#methodology" aria-label="Methodology">Methodology</a></li>
                <li>
                    <a href="#main-result" aria-label="Main result">Main result</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><blockquote>
<p>Full Title : SP3 : Enhancing Structured Pruning via PCA Projection</p>
</blockquote>
<blockquote>
<p>Link : <a href="https://arxiv.org/pdf/2308.16475">2308.16475 (arxiv.org)</a></p>
</blockquote>
<blockquote>
<p>Related Link :</p>
</blockquote>
<blockquote>
<p>Released Date :  Thu, 31 Aug 2023</p>
</blockquote>
<blockquote>
<p>Review Date : Nov 2024</p>
</blockquote>
<p>principal components aware pruning</p>
<h3 id="motivation">Motivation<a hidden class="anchor" aria-hidden="true" href="#motivation">#</a></h3>
<ul>
<li>
<p>Recently LLM has shown great performance on various task. But LLM got several cons. 1) Huge size 2) huge gpu consumption 3) Huge computation cost.</p>
</li>
<li>
<p>Structured Pruning is widely used technique for reducing the size of pre-trained llm(in this paper calling pre trained language model(PLM)). But most of Structured pruning methods aren’t consider Principle components. In this paper authors make pruning to aware principle component to better structured pruning by PCA Projection.</p>
</li>
</ul>
<h3 id="research-questions">Research questions<a hidden class="anchor" aria-hidden="true" href="#research-questions">#</a></h3>
<ul>
<li>Can we make Pruning to aware own matrices principle component?</li>
</ul>
<h3 id="methodology">Methodology<a hidden class="anchor" aria-hidden="true" href="#methodology">#</a></h3>
<ul>
<li>Author find Principal Components of Weight matrix is important. They are all across in index, all number of Principals are diffrent across all layer. Previous researchs just focusing on decrease weight dimension d to f that f&lt;d not considering the principal components.</li>
</ul>
<p>

<input type="checkbox" id="zoomCheck-3865c" hidden>
<label for="zoomCheck-3865c">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/f452349e-651a-4032-be8e-e4f85df75159.png#center" alt=""  />
</label></p>
<pre><code>- Below formulation is general pruning formulation.
</code></pre>
<p>

<input type="checkbox" id="zoomCheck-a5c7f" hidden>
<label for="zoomCheck-a5c7f">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/17ccc5b2-4c25-41f0-aca4-ab654f65be89.png#center" alt=""  />
</label></p>
<p>

<input type="checkbox" id="zoomCheck-7f573" hidden>
<label for="zoomCheck-7f573">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/78775fda-0b44-449d-a428-657a526824dc.png#center" alt=""  />
</label></p>
<ul>
<li>SP^3 got 3 step to prune a model</li>
</ul>
<p>

<input type="checkbox" id="zoomCheck-35d72" hidden>
<label for="zoomCheck-35d72">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/9a69bde2-e815-4275-801e-19573f0b0e5f.png#center" alt=""  />
</label></p>
<pre><code>- PCA Projection can expand general pruning formulation. Pin = U^TR Pout = diag(epsilon)U
</code></pre>
<p>

<input type="checkbox" id="zoomCheck-a8047" hidden>
<label for="zoomCheck-a8047">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/c3985fd6-9ace-4981-b1fd-9eeade66d694.png#center" alt=""  />
</label></p>
<pre><code>- in MHA we can expand like below
</code></pre>
<p>

<input type="checkbox" id="zoomCheck-0222d" hidden>
<label for="zoomCheck-0222d">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/68bdabdf-3b4d-41af-8c53-db09109b08f8.png#center" alt=""  />
</label></p>
<p>

<input type="checkbox" id="zoomCheck-ad494" hidden>
<label for="zoomCheck-ad494">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/2d7c983a-fcad-41bb-9967-80de20dca907.png#center" alt=""  />
</label></p>
<p>

<input type="checkbox" id="zoomCheck-baf53" hidden>
<label for="zoomCheck-baf53">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/f98ce725-4a06-4460-bda4-695f3dd08abd.png#center" alt=""  />
</label></p>
<ul>
<li>
<p>Model Pruning</p>
<ul>
<li>SP^3 use pruning loss that forces the expected sparsity of the model to be close to the desired sparsity. t is target sparsity, s is expected sparsity</li>
</ul>
</li>
</ul>
<p>

<input type="checkbox" id="zoomCheck-dd16a" hidden>
<label for="zoomCheck-dd16a">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/9263b392-ed22-4334-ae50-2f64b577e222.png#center" alt=""  />
</label></p>
<pre><code>- in this paper do multi step pruning. first dimension and add head, layer level mask
</code></pre>
<ul>
<li>
<p>Model Fusing</p>
<p>After training merge mask with weight matrices. Pr denotes pruning all zero rows and columns of the matrix.</p>
<ul>
<li>MHA Layer Fusing</li>
</ul>
</li>
</ul>
<p>

<input type="checkbox" id="zoomCheck-3e793" hidden>
<label for="zoomCheck-3e793">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/c445b7c5-f0a3-4c52-867b-eca39c78a129.png#center" alt=""  />
</label></p>
<pre><code>- FFN Layer Fusing
</code></pre>
<p>

<input type="checkbox" id="zoomCheck-643ff" hidden>
<label for="zoomCheck-643ff">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/b1695a58-38ff-427c-ae9d-78b7c6be1d1c.png#center" alt=""  />
</label></p>
<pre><code>- Residual Modification
</code></pre>
<p>

<input type="checkbox" id="zoomCheck-c31e2" hidden>
<label for="zoomCheck-c31e2">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/961abe49-360e-4080-93b8-7ce64263c80b.png#center" alt=""  />
</label></p>
<h3 id="main-result">Main result<a hidden class="anchor" aria-hidden="true" href="#main-result">#</a></h3>
<p>

<input type="checkbox" id="zoomCheck-252bd" hidden>
<label for="zoomCheck-252bd">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/e971a1fe-cec1-4691-965c-dce4121fdfbe.png#center" alt=""  />
</label></p>
<p>

<input type="checkbox" id="zoomCheck-d2c86" hidden>
<label for="zoomCheck-d2c86">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/8348944d-222c-4f61-9ba8-167fad9838ef.png#center" alt=""  />
</label></p>
<p>

<input type="checkbox" id="zoomCheck-3328c" hidden>
<label for="zoomCheck-3328c">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/ee373f54-8d57-41f7-becf-7df1442c893a.png#center" alt=""  />
</label></p>
<p>

<input type="checkbox" id="zoomCheck-da156" hidden>
<label for="zoomCheck-da156">
    <img class="zoomCheck" loading="lazy" decoding="async" src="/images/ec1e863d-0c42-4a1b-951a-b421abfdeedc.png#center" alt=""  />
</label></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://new-sunset-shimmer.github.io/tags/quantization/">Quantization</a></li>
      <li><a href="https://new-sunset-shimmer.github.io/tags/paper/">Paper</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://new-sunset-shimmer.github.io/">Sunset</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
